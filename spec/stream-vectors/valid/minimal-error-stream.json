{
  "$test": {
    "name": "minimal-error-stream",
    "description": "A minimal stream that ends with an error envelope. May include an error event before end.",
    "expects": "accept",
    "conformance_level": 1
  },
  "events": [
    {
      "type": "start",
      "version": "2.2",
      "timestamp_ms": 0,
      "module": "demo-module",
      "provider": "demo-provider"
    },
    {
      "type": "error",
      "version": "2.2",
      "timestamp_ms": 1,
      "module": "demo-module",
      "provider": "demo-provider",
      "error": {
        "code": "E1001",
        "message": "Invalid input"
      }
    },
    {
      "type": "end",
      "version": "2.2",
      "timestamp_ms": 2,
      "module": "demo-module",
      "provider": "demo-provider",
      "result": {
        "ok": false,
        "version": "2.2",
        "meta": {
          "confidence": 0.0,
          "risk": "high",
          "explain": "Invalid input"
        },
        "error": {
          "code": "E1001",
          "message": "Invalid input"
        }
      }
    }
  ]
}

